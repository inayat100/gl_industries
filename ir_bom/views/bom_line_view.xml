<?xml version="1.0" encoding="UTF-8" ?>
<odoo>

    <record id="view_mrp_bom_line_tree_inherit_custom" model="ir.ui.view">
        <field name="name">mrp.bom.line.tree.inherit.custom</field>
        <field name="model">mrp.bom.line</field>
        <field name="arch" type="xml">
            <list string="BOM Lines">
                <button name="action_view_bom_orders" type="object" icon="fa-eye" title="Open Form"
                        class="btn btn-link icon-only"/>
                <field name="bom_id"/>
                <field name="product_id"/>
                <field name="uom_id"/>
                <field name="p_product_qty" sum="p_product_qty"/>
                <field name="product_qty" sum="product_qty"/>
                <field name="qty_per_pack" sum="qty_per_pack"/>
                <field name="qty_in_pack" sum="qty_in_pack"/>
                <field name="qty_percent" sum="qty_percent"/>
                <field name="extra_per" sum="extra_per"/>
                <field name="rate" sum="rate"/>
                <field name="amount" sum="amount"/>
                <field name="color_id"/>
                <field name="size_id"/>
                <field name="vendor_id"/>
                <field name="note"/>
                <field name="remark"/>
                <field name="state"/>
            </list>
        </field>
    </record>

    <record id="view_mrp_bom_line_search_custom" model="ir.ui.view">
        <field name="name">mrp.bom.line.search.custom</field>
        <field name="model">mrp.bom.line</field>
        <field name="arch" type="xml">
            <search string="Search BOM Lines">
                <field name="product_id"/>
                <field name="bom_id"/>
                <field name="vendor_id"/>
                <field name="color_id"/>
                <field name="size_id"/>
                <field name="uom_id"/>

                <filter string="Open/Running" name="open_running" domain="[('state', 'in', ['open', 'running'])]"/>
                <filter string="Open" name="open" domain="[('state', '=', 'open')]"/>
                <filter string="Running" name="running" domain="[('state', '=', 'running')]"/>
                <filter string="Closed" name="closed" domain="[('state', '=', 'closed')]"/>

                <group expand="0" string="Group By">
                     <filter string="State" name="default_state" domain="[]" context="{'group_by' : 'state'}"/>
                     <filter string="Product" name="default_product_id" domain="[]" context="{'group_by' : 'product_id'}"/>
                     <filter string="Vendor" name="default_vendor_id" domain="[]" context="{'group_by' : 'vendor_id'}"/>
                     <filter string="Color" name="default_color_id" domain="[]" context="{'group_by' : 'color_id'}"/>
                     <filter string="Size" name="default_size_id" domain="[]" context="{'group_by' : 'size_id'}"/>
                     <filter string="UOM" name="default_uom_id" domain="[]" context="{'group_by' : 'uom_id'}"/>
                </group>

            </search>
        </field>
    </record>

    <record id="action_mrp_bom_line_custom" model="ir.actions.act_window">
        <field name="name">BOM Lines</field>
        <field name="res_model">mrp.bom.line</field>
        <field name="view_mode">list,form</field>
        <field name="context">{'create': 0, 'delete': 0, 'edit': 0}</field>
        <field name="view_id" ref="view_mrp_bom_line_tree_inherit_custom"/>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                No BOM Lines found.
            </p>
            <p>Create a new one.</p>
        </field>
    </record>

    <menuitem id="menu_mrp_bom_line_root"
              name="BOM Lines"
              parent="ir_bom.view_record_bom_route_root"
              groups="ir_bom.group_bom_line_route_access_right"
              action="action_mrp_bom_line_custom"
              sequence="9"/>

</odoo>